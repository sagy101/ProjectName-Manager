{
  "displaySettings": {
    "projectName": "ISO",
    "openDevToolsByDefault": false
  },
  "sections": [
    {
      "id": "mirror",
      "title": "Mirror + MariaDB",
      "components": {
        "toggle": true,
        "attachToggle": {
          "enabled": true,
          "mutuallyExclusiveWith": ["activity-logger"]
        },
        "infoButton": true,
        "gitBranch": true,
        "modeSelector": {
          "options": ["run", "suspend"],
          "labels": ["Run", "Suspend"],
          "default": "run"
        },
        "subSections": [
          {
            "id": "frontend",
            "title": "Frontend",
            "components": {
              "toggle": true,
              "modeSelector": {
                "options": ["normal", "dev"],
                "labels": ["Normal", "Dev Mode"]
              }
            }
          }
        ]
      }
    },
    {
      "id": "gopm",
      "title": "GoPM + Agent + Chromium",
      "components": {
        "toggle": true,
        "infoButton": true,
        "gitBranch": true,
        "deploymentOptions": [
          { "value": "container", "status": "TBD" },
          { "value": "process" }
        ]
      }
    },
    {
      "id": "url-intelligence",
      "title": "URL Intelligence + TI (Cloud)",
      "components": {
        "toggle": true,
        "infoButton": true,
        "gitBranch": true,
        "dropdownSelectors": [
          {
            "id": "kubectlContext",
            "command": "kubectl config get-contexts -o name",
            "parseResponse": "lines",
            "placeholder": "Select context...",
            "loadingText": "Loading contexts...",
            "errorText": "Error loading contexts",
            "noOptionsText": "No contexts found",
            "dependsOn": "gcloudProject",
            "defaultValue": {
              "contains": "staging"
            }
          }
        ],
        "subSections": [
          {
            "id": "url-intelligence-sub",
            "title": "URL Intelligence",
            "components": {
              "toggle": true,
              "modeSelector": {
                "options": ["forwarding", "process", "mock"],
                "labels": ["Forwarding", "Process", "Mock"],
                "default": "Mock"
              },
              "dropdownSelectors": [
                {
                  "id": "urlIntelPod",
                  "command": "kubectl --context ${kubectlContext} get pods -l app=url-intelligence --no-headers -o custom-columns=\":metadata.name\"",
                  "parseResponse": "lines",
                  "placeholder": "Select URL Intel pod (for Forwarding)...",
                  "loadingText": "Loading URL Intel pods...",
                  "errorText": "Error loading URL Intel pods",
                  "noOptionsText": "No URL Intel pods found",
                  "dependsOn": "kubectlContext",
                  "visibleWhen": {
                    "configKey": "mode",
                    "hasValue": "forwarding"
                  }
                }
              ]
            }
          },
          {
            "id": "threat-intelligence-sub",
            "title": "Threat Intelligence",
            "components": {
              "toggle": true,
              "dropdownSelectors": [
                {
                  "id": "threatIntelPod",
                  "command": "kubectl --context ${kubectlContext} get pods -l app=threat-intelligence --no-headers -o custom-columns=\":metadata.name\"",
                  "parseResponse": "lines",
                  "placeholder": "Select Threat Intel pod...",
                  "loadingText": "Loading pods...",
                  "errorText": "Error loading Threat Intel pods",
                  "noOptionsText": "No Threat Intel pods found",
                  "dependsOn": "kubectlContext"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "id": "activity-logger",
      "title": "Activity Logger",
      "components": {
        "toggle": true,
        "attachToggle": {
          "enabled": true,
          "mutuallyExclusiveWith": ["mirror"]
        },
        "infoButton": true,
        "gitBranch": true,
        "mainToggle": {
          "validationRequired": {
                        "condition": "gcloudProject && !projectSelectorFallbacks.includes(gcloudProject)",
              "errorMessage": "Cannot enable Activity Logger until a cloud project is selected."
          }
        },
        "modeSelector": {
          "options": ["run", "suspend"],
          "labels": ["Run", "Suspend"],
          "default": "suspend"
        }
      }
    },
    {
      "id": "rule-engine",
      "title": "Rule Engine",
      "components": {
        "toggle": true,
        "infoButton": true,
        "gitBranch": true,
        "deploymentOptions": true
      }
    },
    {
      "id": "test-analytics",
      "title": "Test Analytics Engine",
      "testSection": true,
      "components": {
        "toggle": true,
        "infoButton": true,
        "gitBranch": true,
        "modeSelector": {
          "options": [
            { "value": "development" },
            { "value": "staging" },
            { "value": "production" },
            { "value": "mock", "status": "TBD" }
          ],
          "default": "development"
        },
        "subSections": [
          {
            "id": "data-processor",
            "title": "Data Processor",
            "components": {
              "toggle": true,
              "modeSelector": {
                "options": ["batch", "stream", "hybrid"]
              }
            }
          },
          {
            "id": "ml-engine",
            "title": "ML Engine",
            "components": {
              "toggle": true,
              "modeSelector": {
                "options": ["tensorflow", "pytorch", "sklearn"],
                "labels": ["TensorFlow", "PyTorch", "Scikit-learn"]
              }
            }
          }
        ],
        "customButton": {
          "id": "testAnalyticsLogs",
          "label": "View Logs",
          "commandId": "testAnalyticsLogCommand"
        }
      }
    },
    {
      "id": "e2e-test-floating",
      "title": "E2E Floating Terminal Test",
      "testSection": true,
      "components": {
        "toggle": true,
        "infoButton": false,
        "customButton": {
          "id": "e2eTestFloatingBtn",
          "label": "Launch E2E Floating Echo",
          "commandId": "e2eTestFloatingEchoCmd"
        },
        "subSections": [
          {
            "id": "e2e-test-floating-sub",
            "title": "E2E Floating Sub-Section",
            "components": {
              "toggle": true,
              "customButton": {
                "id": "e2eTestFloatingSubBtn",
                "label": "Launch E2E Sub Floating Echo",
                "commandId": "e2eTestFloatingSubEchoCmd"
              }
            }
          }
        ]
      }
    },
    {
      "id": "e2e-main-tab-info",
      "title": "E2E Main Tab Info Test",
      "testSection": true,
      "components": {
        "toggle": true,
        "infoButton": true
      }
    },
    {
      "id": "e2e-failing-verify",
      "title": "E2E Failing Verification Test",
      "testSection": true,
      "components": { "toggle": true, "infoButton": true }
    },
    {
      "id": "e2e-missing-command",
      "title": "E2E Missing Command Test",
      "testSection": true,
      "components": { "toggle": true, "infoButton": true }
    },
    {
      "id": "e2e-req-dropdown",
      "title": "E2E Required Dropdown Test",
      "testSection": true,
      "components": {
        "toggle": true,
        "infoButton": true,
        "dropdownSelectors": [
          {
            "id": "e2eRequiredDropdown",
            "command": "echo \"OptionA\nOptionB\"",
            "parseResponse": "lines",
            "placeholder": "Select to run...",
            "isRequired": true
          }
        ]
      }
    }
  ] 
}